rule all:
    input:
        "figure.pdf",


rule generate_data:
    output:
        "analytical_data.npz",
    threads: 8
    script:
        "generate_data.py"


rule convert_to_npz:
    input:
        "analytical_data.npz",
    output:
        "analytical_data_means.npz",
    script:
        "extract_data.py"


rule plot:
    input:
        "plot.jl",
        "analytical_data_means.npz",
    output:
        "figure.pdf",
    shell:
        "julia --project=../.. plot.jl"
